# get path of finder window
function ff {
	osascript -e 'tell application "Finder"' -e "if (${1-1} <= (count Finder windows)) then" -e "get POSIX path of (target of window ${1-1} as alias)" -e 'else' -e 'get POSIX path of (desktop as alias)' -e 'end if' -e 'end tell';
}

# cd into path shown in finder window
function cdff {
	cd "`ff $@`";
}

# open new terminal
tab () {
	osascript 2>/dev/null <<EOF
	tell application "System Events"
		tell process "iTerm" to keystroke "t" using command down
	end
	tell application "iTerm"
		activate
		do script with command "cd $PWD; $*" in window 1
	end tell
EOF
}

# find by name in current dir with mdfind
fn() {
	mdfind -onlyin . "kMDItemDisplayName == '$1'"
}

